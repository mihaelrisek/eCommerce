<h1>Profil</h1>

<section class="profil">

  <form action="/profil/<%= user.id %>" method="POST"   >
      <label for="profil_username">Username</label>
      <input type="text" name="profil_username" id="profil_username" value="<%= user.username %>" placeholder="<%= user.username %>" disabled required>
      <input type="checkbox" name="profil_username_checkbox" id="profil_username_checkbox">

      <label for="profil_first_name">First name</label>
      <input type="text" name="profil_first_name" id="profil_first_name" value="<%= user.first_name %>" placeholder="<%= user.first_name %>" disabled required>
      <input type="checkbox" name="profil_first_name_checkbox" id="profil_first_name_checkbox">

      <label for="profil_last_name">Last name</label>
      <input type="text" name="profil_last_name" id="profil_last_name" value="<%= user.last_name %>" placeholder="<%= user.last_name %>" disabled required>
      <input type="checkbox" name="profil_last_name_checkbox" id="profil_last_name_checkbox">
  
      <label for="profil_email">Email</label>
      <input type="text" name="profil_email" id="profil_email" value="<%= user.email %>" placeholder="<%= user.email %>" disabled required>
      <input type="checkbox" name="profil_email_checkbox" id="profil_email_checkbox">
  
      <label for="profil_address">Address</label>
      <input type="text" name="profil_address" id="profil_address" value="<%= user.address %>" placeholder="<%= user.address %>" disabled required>
      <input type="checkbox" name="profil_address_checkbox" id="profil_address_checkbox">
  
      <label for="profil_phone">Phone</label>
      <input type="tel" name="profil_phone" maxlength="20"  id="profil_phone" value="<%= user.phone %>" placeholder="<%= user.phone %>" disabled required>
      <input type="checkbox" name="profil_phone_checkbox" id="profil_phone_checkbox">
  
      <label for="profil_created_at">Created at</label>
      <input type="text" id="profil_created_at"  placeholder="<%= (user.created_at).toLocaleDateString() %>" disabled>

      <label for="profil_updated_at">Updated at</label>
      <input type="text" id="profil_updated_at"  placeholder="<%= (user.updated_at).toLocaleString() %>" disabled>
  

    <button type="submit" >Update</button>
  </form>

  <a href="/logout"><button>Logout</button></a>

</section>

<script>
const checkboxes = document.querySelectorAll('input[type="checkbox"]');

checkboxes.forEach(checkbox => {
  checkbox.addEventListener('change', function() {
    const inputId = checkbox.id.replace('_checkbox', '');
    const input = document.getElementById(inputId);
    console.log(inputId)

    if (this.checked) {
      input.disabled = false;
    } else {
      input.disabled = true;
    }
  });
});
</script>